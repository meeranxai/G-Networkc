<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-Network | Explore</title>
    <!-- Core & Social CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/social.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* Explore Specific Styles */
        .explore-header {
            padding: 20px 0;
            position: sticky;
            top: 0;
            background: var(--social-bg);
            z-index: 90;
        }

        .search-bar-large {
            background: white;
            padding: 15px 25px;
            border-radius: 99px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .search-bar-large:focus-within {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
            border-color: var(--primary);
        }

        .search-bar-large i {
            color: var(--text-tertiary);
            font-size: 1.2rem;
        }

        .search-bar-large input {
            border: none;
            outline: none;
            font-size: 1.1rem;
            width: 100%;
            color: var(--text-primary);
        }

        .explore-tabs {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .explore-tab {
            padding: 8px 20px;
            border-radius: 99px;
            background: white;
            border: 1px solid var(--border-color);
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .explore-tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .explore-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .user-card-explore {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: transform 0.2s;
            cursor: pointer;
        }

        .user-card-explore:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .explore-user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 3px solid var(--surface-50);
        }

        /* Masonry for posts (Simulated with columns) */
        .posts-masonry {
            column-count: 2;
            column-gap: 20px;
            margin-top: 30px;
        }

        .masonry-item {
            break-inside: avoid;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .posts-masonry {
                column-count: 1;
            }
        }
    </style>

    <!-- PWA Manifest & Meta -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a90e2">
    <link rel="apple-touch-icon" href="/images/G.png">
</head>

<body class="social-app">
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="./js/firebase-compat.js"></script>
    <script src="./js/auth-guard.js"></script>

    <div class="app-layout">
        <!-- LEFT SIDEBAR -->
        <aside class="sidebar-left">
            <div class="social-brand">
                <h1>G-Network<span style="color:var(--primary)">.</span></h1>
            </div>

            <nav class="nav-links">
                <a href="./index.html" class="nav-item">
                    <i class="fas fa-home"></i> <span>Home</span>
                </a>
                <a href="./chat.html" class="nav-item">
                    <i class="fas fa-comment-dots"></i> <span>G-Chat</span>
                </a>
                <a href="./explore.html" class="nav-item active">
                    <i class="fas fa-compass"></i> <span>Explore</span>
                </a>
                <a href="#" class="nav-item" id="notif-link">
                    <i class="fas fa-bell"></i> <span>Notifications</span>
                    <span class="unread-badge" id="notif-badge" style="display: none;">0</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-envelope"></i> <span>Messages</span>
                </a>
                <a href="./profile.html" class="nav-item">
                    <i class="fas fa-user"></i> <span>Profile</span>
                </a>
            </nav>

            <button class="btn-post-main">
                <i class="fas fa-pen-nib"></i> Post
            </button>
        </aside>

        <!-- CENTER FEED -->
        <main class="feed-container" style="max-width: 800px;">
            <div class="explore-header">
                <div class="search-bar-large">
                    <i class="fas fa-search"></i>
                    <input type="text" id="explore-search" placeholder="Search people, posts, or tags...">
                </div>

                <div class="explore-tabs">
                    <div class="explore-tab active" data-tab="people">People</div>
                    <div class="explore-tab" data-tab="posts">Posts</div>
                    <div class="explore-tab" data-tab="trending">Trending</div>
                </div>
            </div>

            <div id="explore-content">
                <!-- Dynamic Content -->
                <div id="people-grid" class="explore-grid">
                    <!-- Users here -->
                    <div style="grid-column: 1/-1; text-align: center; color: var(--text-tertiary); margin-top: 50px;">
                        <i class="fas fa-search" style="font-size: 2rem; opacity: 0.5;"></i>
                        <p style="margin-top: 15px;">Search for users to connect with.</p>
                    </div>
                </div>

                <div id="posts-grid" class="posts-masonry" style="display: none;">
                    <!-- Posts here -->
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script type="module" src="./js/explore.js"></script>
    <script type="module" src="./js/pwa-install.js"></script>
</body>

</html>